import{o as e,c as a,r as s,i as l,p as t,a as A,b as o,d as n,w as r,v as i,e as d,F as m,f as c,t as u,g,h as p,j as v,u as y,k as h,l as f,m as I,n as k,q as C,s as E,x as w,y as R,z as K,C as B,A as S,B as G,D as U}from"./vendor.a3b85c5b.js";!function(e=".",a="__import__"){try{self[a]=new Function("u","return import(u)")}catch(s){const l=new URL(e,location),t=e=>{URL.revokeObjectURL(e.src),e.remove()};self[a]=e=>new Promise(((s,A)=>{const o=new URL(e,l);if(self[a].moduleMap[o])return s(self[a].moduleMap[o]);const n=new Blob([`import * as m from '${o}';`,`${a}.moduleMap['${o}']=m;`],{type:"text/javascript"}),r=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(n),onerror(){A(new Error(`Failed to import: ${e}`)),t(r)},onload(){s(self[a].moduleMap[o]),t(r)}});document.head.appendChild(r)})),self[a].moduleMap={}}}("/assets/");let b=new Audio("/src/assets/sounds/ost.mp3");b.loop=!0,b.volume=.4,b.crossOrigin="anonymous";let L=new Audio("/src/assets/sounds/win.mp3");L.volume=1,L.crossOrigin="anonymous";let O=new Audio("/src/assets/sounds/fail.mp3");O.volume=1,O.crossOrigin="anonymous";let Q=new Audio("/src/assets/sounds/blick.mp3");Q.volume=1,Q.crossOrigin="anonymous";const M={expose:[],setup(l){null==localStorage.getItem("runningGames")&&localStorage.setItem("runningGames","[]");let t=JSON.parse(localStorage.getItem("runningGames"));return t.length>5&&(t.splice(0,t.length-5),localStorage.setItem("runningGames",JSON.stringify(t))),(l,t)=>{const A=s("router-view");return e(),a(A)}}};const x=l(location.href.startsWith("http://localhost:3000/")?"http://localhost:5000":location.href.includes("itch.io")?"https://mirrormates.herokuapp.com":void 0),F=["  0,   0,   0","228, 166, 114","184, 111,  80","116,  63,  57"," 63,  40,  50","158,  40,  53","229,  59,  68","251, 146,  43","255, 231,  98"," 99, 198,  77"," 50, 115,  69"," 25,  61,  63"," 79, 103, 129","175, 191, 210","255, 255, 255"," 44, 232, 244","  4, 132, 209"];var X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIxJREFUWIXtzjkSwCAMQ9H4oDldDkraDIPBi2RS8DtbzZNLqbV2f28RebRd20b//icaoAoxBVQglgA2wgSgIqwAFsIFYCDcADQiBEAiwgAYIgNAINKALAICyCBggCgCCogg4AA3ggHwIGgAK4IKsCDogBWiBDBDlAE0RClgiKgG9IgtgB6xrV8gTqftvW876Z6S4LesAAAAAElFTkSuQmCC";const D={props:{mine:Boolean,player:Object},setup(e){console.log(e);let a,s=F,l=o(null),t=!1,A=[0,0,0],r={};function i(e,a,s){let l=4*e+32*a*4;s[l]=A[0],s[l+1]=A[1],s[l+2]=A[2],s[l+3]=255}function d(e,a,s){let l=4*e+32*a*4;return`${s[l]},${s[l+1]},${s[l+2]},${s[l+3]}`}return n((()=>{a=l.value.getContext("2d"),r=a.getImageData(0,0,32,32);for(var e=0;e<r.data.length;e+=4)r.data[e]=0,r.data[e+1]=0,r.data[e+2]=0,r.data[e+3]=20;a.putImageData(r,0,0);let{x:s,y:A}=l.value.getBoundingClientRect();function o(e){if(t){i(Math.floor((e.x-s)/16),Math.floor((e.y-A)/16),r.data),a.putImageData(r,0,0)}}function n(e,s,l,t){d(e,s-1,t.data)==l&&(i(e,s-1,t.data),n(e,s-1,l,t)),d(e,s+1,t.data)==l&&(i(e,s+1,t.data),n(e,s+1,l,t)),d(e-1,s,t.data)==l&&(i(e-1,s,t.data),n(e-1,s,l,t)),d(e+1,s,t.data)==l&&(i(e+1,s,t.data),n(e+1,s,l,t)),i(e,s,t.data),a.putImageData(t,0,0)}l.value.addEventListener("mousedown",(e=>{e.ctrlKey?function(e){let a=Math.floor((e.x-s)/16),l=Math.floor((e.y-A)/16),t=d(a,l,r.data);n(a,l,t,r)}(e):(t=!0,o(e))})),l.value.addEventListener("mouseup",(e=>{t=!1})),l.value.addEventListener("mouseleave",(e=>{t=!1})),l.value.addEventListener("mousemove",o)})),{cnvs:l,getBase64:()=>l.value.toDataURL(),setColor:e=>A=e.split(","),undo:()=>{},colors:s,props:e}}},W=g();t("data-v-c758228c");const Y={class:"frame"},H={class:"cnvs"},q=d("img",{class:"mirror_line",src:X},null,-1),J={id:"game",width:"32",height:"32",ref:"cnvs"},N={class:"colors"};A();const j=W(((s,l,t,A,o,n)=>(e(),a("div",Y,[r(d("div",H,[q,d("canvas",J,null,512),d("div",N,[(e(!0),a(m,null,c(A.colors,(s=>(e(),a("div",{class:"color",key:s,onClick:e=>A.setColor(s),style:{backgroundColor:`rgb(${s})`}},null,12,["onClick"])))),128))])],512),[[i,A.props.mine]]),r(d("div",{class:"others"},u(A.props.player.name)+" is drawing... ",513),[[i,!A.props.mine]])]))));D.render=j,D.__scopeId="data-v-c758228c";const V={expose:[],setup:s=>(s,l)=>(e(),a("button",null,[p(s.$slots,"default")]))};const T=g();t("data-v-2eae89e1");const Z={class:"Home"},P=d("div",{class:"big-title"},"MirrorMates",-1),z=d("div",{class:"sub-title"},"ARE YOU TRUE MATES?",-1),_=d("div",{class:"spacer1"},null,-1),$=d("img",{src:"data:image/gif;base64,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"},null,-1),ee=I("Search Games"),ae=d("div",{class:"spacer1"},null,-1),se=I("Create Public Game"),le=d("div",{class:"spacer1"},null,-1),te=I("Create Private Game"),Ae=d("div",{class:"spacer1"},null,-1),oe=I(" Enter via ID:"),ne=d("div",{class:"spacer1"},null,-1),re=d("div",{class:"footer"},[d("a",{href:"https://github.com/DropMania/Gamedev.js-Jam-2021",target:"_blank"},"Â© DropMania")],-1);A();const ie={expose:[],setup(s){let l=o("");function t(){pa.push({name:"Enter",params:{id:l.value}})}function A(e){x.emit("createGame",{type:e},(e=>{pa.push({name:"Enter",params:{host:!0,id:e.gameId}})}))}return(s,o)=>(e(),a("div",Z,[P,z,_,$,d(V,{onClick:o[1]||(o[1]=e=>{pa.push({name:"Search"})})},{default:T((()=>[ee])),_:1}),ae,d(V,{onClick:o[2]||(o[2]=e=>A("public"))},{default:T((()=>[se])),_:1}),le,d(V,{onClick:o[3]||(o[3]=e=>A("private"))},{default:T((()=>[te])),_:1}),Ae,oe,r(d("input",{type:"text","onUpdate:modelValue":o[4]||(o[4]=e=>h(l)?l.value=e:l=e),onKeyup:f(t,["enter"]),placeholder:"ID..."},null,40,["onKeyup"]),[[v,y(l)]]),ne,re]))},__scopeId:"data-v-2eae89e1"};var de=k({game:{players:[],maxPlayers:0,minPlayers:0,started:!1,state:"NONE",timeLeft:0,currentWord:"",lifes:3,currentCompare:"",threshold:0,score:0,type:"private"},images:[],player:{id:"",name:"",host:!1,sort:0}});const me={class:"config"},ce={class:"config-item"},ue={class:"players"},ge={class:"config-item"},pe=I(" Time: "),ve={class:"config-item"},ye=I(" Threshold: "),he={class:"config-item"},fe=I(" Lifes: "),Ie={key:1},ke={class:"config-item copys"},Ce=I("Copy link!"),Ee=I("Copy ID!"),we=I(" Start! "),Re={expose:[],setup(s){const l=C(),t=o(""),A=o("");let n=l.params.id,i=location.href;const g=[["Long",60],["Normal",30],["Short",20],["Super quick",10]],p=[["Easy",10],["Normal",20],["Hard",30],["Insane",50]];function f(e){x.emit("set_config",l.params.id,{timeLeft:e.target.value,defaultTime:e.target.value})}function k(e){x.emit("set_config",l.params.id,{threshold:e.target.value})}function R(e){x.emit("set_config",l.params.id,{lifes:e.target.value})}function K(e){e.preventDefault()}return(s,o)=>(e(),a("div",me,[d("div",ce,[I(" Players "+u(y(de).game.players.length)+" / "+u(y(de).game.maxPlayers)+": ",1),d("div",ue,[(e(!0),a(m,null,c(y(de).game.players,(s=>(e(),a("span",{class:"player",key:s.id},u(s.name),1)))),128))])]),d("div",ge,[pe,y(de).player.host?(e(),a("select",{key:0,onInput:f},[(e(),a(m,null,c(g,(e=>d("option",{key:e[0],selected:y(de).game.defaultTime==e[1],value:e[1]},u(e[0]),9,["selected","value"]))),64))],32)):(e(),a(m,{key:1},c(g,(e=>d("span",{key:e[0]},u(y(de).game.defaultTime==e[1]?e[0]:""),1))),64))]),d("div",ve,[ye,y(de).player.host?(e(),a("select",{key:0,onInput:k},[(e(),a(m,null,c(p,(e=>d("option",{key:e[0],selected:y(de).game.threshold==e[1],value:e[1]},u(e[0])+" ("+u(e[1])+"%) ",9,["selected","value"]))),64))],32)):(e(),a(m,{key:1},c(p,(e=>d("span",{key:e[0]},u(y(de).game.threshold==e[1]?`${e[0]} (${e[1]}%)`:""),1))),64))]),d("div",he,[fe,y(de).player.host?(e(),a("input",{key:0,type:"number",value:y(de).game.lifes,onInput:R,min:"1",max:"10",onKeydown:K},null,40,["value"])):(e(),a("span",Ie,u(y(de).game.lifes),1))]),r(d("textarea",{ref:t,"onUpdate:modelValue":o[1]||(o[1]=e=>h(i)?i.value=e:i=e),class:"copytext"}," ",512),[[v,y(i)]]),r(d("textarea",{ref:A,"onUpdate:modelValue":o[2]||(o[2]=e=>h(n)?n.value=e:n=e),class:"copytext"}," ",512),[[v,y(n)]]),d("div",ke,[d(V,{onClick:o[3]||(o[3]=e=>(t.value.focus(),t.value.select(),t.value.setSelectionRange(0,99999),document.execCommand("copy"),void t.value.blur()))},{default:E((()=>[Ce])),_:1}),d(V,{onClick:o[4]||(o[4]=e=>(A.value.focus(),A.value.select(),A.value.setSelectionRange(0,99999),document.execCommand("copy"),void A.value.blur()))},{default:E((()=>[Ee])),_:1})]),y(de).player.host?(e(),a(V,{key:0,disabled:y(de).game.players.length<y(de).game.minPlayers,onClick:o[5]||(o[5]=e=>{x.emit("start_game",l.params.id)}),class:"config-item",title:y(de).game.players.length<y(de).game.minPlayers?"you need at least 2 players":""},{default:E((()=>[we])),_:1},8,["disabled","title"])):w("",!0)]))}};const Ke=I(" The Word you need to draw is:"),Be=d("br",null,null,-1),Se={class:"big-title"},Ge=d("div",{class:"spacer6"},null,-1),Ue={expose:[],setup:s=>(s,l)=>(e(),a("div",null,[Ke,Be,d("div",Se,u(y(de).game.currentWord),1),Ge]))};const be=I(" You've lost with a score of:"),Le=d("br",null,null,-1),Oe={class:"big-title"},Qe=d("div",{class:"spacer6"},null,-1),Me={expose:[],setup:s=>(s,l)=>(e(),a("div",null,[be,Le,d("div",Oe,u(y(de).game.score),1),Qe]))};const xe={class:"med-title"},Fe={class:"draw"},Xe=d("div",{class:"spacer1"},null,-1),De={expose:[],setup(s){let l=C(),t=o(null);return R((()=>de.game.state),((e,a)=>{"DRAW"==a&&"COMPARE"==e&&t.value&&(console.log("donedrawing"),x.emit("done_drawing",{gameId:l.params.id,playerId:de.player.id,image:t.value.getBase64()}))})),(s,l)=>(e(),a("div",null,[d("div",xe,u(y(de).game.currentWord),1),d("div",Fe,[(e(!0),a(m,null,c(y(de).game.players,(s=>(e(),a("div",{class:"drawer",key:s.id},[y(de).player.sort==s.sort?(e(),a(D,{key:0,ref:t,mine:"",player:s},null,8,["player"])):(e(),a(D,{key:1,player:s},null,8,["player"]))])))),128))]),Xe]))}};const We={class:"compare"},Ye={class:"med-title"},He={class:"images"},qe=d("img",{class:"mirror_line",src:X},null,-1),Je={expose:[],setup(s){let l=de.game.players,t=K((()=>de.images.sort(((e,a)=>l.find((a=>a.id==e[0])).sort-l.find((e=>e.id==a[0])).sort))));return(s,A)=>(e(),a("div",We,[d("div",Ye,u(y(de).game.currentCompare)+"%",1),d("div",He,[(e(!0),a(m,null,c(y(t),(s=>{return e(),a("div",{class:"image",key:s[0]},[qe,d("img",{class:"drawing",src:s[1]},null,8,["src"]),d("div",null,u((t=s[0],l.find((e=>e.id==t)).name)),1)]);var t})),128))])]))}};const Ne={class:"timer"},je=d("div",null,[d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAKCAYAAABCHPt+AAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV8/pEUqgs0g4pChOlkQFXGUKhbBQmkrtOpgcukXNDEkKS6OgmvBwY/FqoOLs64OroIg+AHi5uak6CIl/i8ptIjx4Lgf7+497t4B/maNqWZwHFA1y8gkE2K+sCKGXhFEFAIGEJaYqaeyCzl4jq97+Ph6F+dZ3uf+HH1K0WSATySeZbphEa8TT29aOud9YoFVJIX4nHjMoAsSP3JddvmNc9lhP88UjFxmjlggFstdLHcxqxgq8RRxTFE1yvfnXVY4b3FWa3XWvid/YaSoLWe5TnMYSSwihTREyKijihosxGnVSDGRof2Eh3/I8afJJZOrCkaOeWxAheT4wf/gd7dmaXLCTYokgJ4X2/4YAUK7QKth29/Htt06AQLPwJXW8W80gZlP0hsdLXYE9G8DF9cdTd4DLneAwSddMiRHCtD0l0rA+xl9UwGI3gK9q25v7X2cPgA56mrpBjg4BEbLlL3m8e5wd2//nmn39wM5bnKQdlMRJgAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+UEExUFJojmbgMAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAASUlEQVRIx+3XIQ4AIAwEwR7///MhG4LC0BO7gqA7CaGqzkWTqcCIyvfFBua3wjlz9wFGAop5rsJsFjPIChBA6OnLRbMGAiVrMdw3VRvvG3tPawAAAABJRU5ErkJggg=="})],-1),Ve=d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAKCAYAAABCHPt+AAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV8/pEUqgs0g4pChOlkQFXGUKhbBQmkrtOpgcukXNDEkKS6OgmvBwY/FqoOLs64OroIg+AHi5uak6CIl/i8ptIjx4Lgf7+497t4B/maNqWZwHFA1y8gkE2K+sCKGXhFEFAIGEJaYqaeyCzl4jq97+Ph6F+dZ3uf+HH1K0WSATySeZbphEa8TT29aOud9YoFVJIX4nHjMoAsSP3JddvmNc9lhP88UjFxmjlggFstdLHcxqxgq8RRxTFE1yvfnXVY4b3FWa3XWvid/YaSoLWe5TnMYSSwihTREyKijihosxGnVSDGRof2Eh3/I8afJJZOrCkaOeWxAheT4wf/gd7dmaXLCTYokgJ4X2/4YAUK7QKth29/Htt06AQLPwJXW8W80gZlP0hsdLXYE9G8DF9cdTd4DLneAwSddMiRHCtD0l0rA+xl9UwGI3gK9q25v7X2cPgA56mrpBjg4BEbLlL3m8e5wd2//nmn39wM5bnKQdlMRJgAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+UEExUEK+9MI/8AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACw0lEQVRIx+1X23EcMQwDtG7ILiDjPhI3l8ykDrsBpyHPIh+k+JDk7+TDN3O7eyuRokAQ1BH5Eb4+//LDuADQj8dXEAQFuwMY/jzi3RyHjzPmUsCI53IXMICwHWQbHwLI4rf4jPU93nHXueZnzLWLjyHa12MfIK6bIO1u74lrvgdxKd8NWRzz+dLovmRrX/7b1hrlt9mk34zp8rjTt63/oAEAHAD0/fEVgPDz/VsWi5SPIABBWxEx5nCWWFzYpsCT0uvRDKXdK3WiT7cnLTKylLe4RGn00eKTRCxMd2h+lOPzHZWbLFIipv8uMDaRCYj54xYRHm5LnK9raRGFX+/PeHl628FjeaO+SZQUaVrMixSLam6ZM8E2hQ4wmZvt95JCoRi7zYxAJTbqAI8AlkRpcoYQMx5N6nmGBUJi7ldl97QqQi57EH4FQVRj9JUI4eO6Me60GBOpl6e3BZOZMx3aiwJ3bk2IbRaxz+GESTputs7WprAK+4lkq1ztgUk1RcxCk5KtagpuLjSZXFdwdAKXXj1JGgUJWTKm8C1PFHAPLQnhCrexhOvGVqjU1emkZmsuU14ma9Xkpm6mSUTd5Jp8stls0spe9Sk5lRR1AMUX3XLqsnzLjLFKqK4cDIBYoZJX4aLCpUKElZ+ZVS7MXoNWEISLL7ocrmytDLd+UcDcS673ExZ9dnmCFBsM2A/SsTqjsles9Xs8cjYQ1LSgFudsGM2bqhVbj94TslCcDlZiy21GApxpD+ZKDpIOxbOUuXYifG7Fgzo4FyMQ7b3IDwDnykmmRyPvrRNVDJZTQXapqShrb5+yyky+WAnbHQ8A/P3n2fUsda6ToYAdJw7mnhrBmF8xQKynsXhWUamD/hbSl5OJQ8Z+cldp8AuRcdRdVtJbMNJKWEWf2XKgEiCz11SNpVQAYtXBIPDEgPs58uuP4f/wx/AvFvyWFpDcLGsAAAAASUVORK5CYII="},null,-1),Te={style:{"margin-top":"7px"}},Ze={expose:[],setup:s=>(s,l)=>(e(),a("div",Ne,[d("div",null,[je,d("div",{style:{width:y(de).game.timeLeft/y(de).game.defaultTime*100+"%",overflow:"hidden"}},[Ve],4),d("div",Te,u(y(de).game.timeLeft)+"s",1)])]))};const Pe={class:"game"},ze={class:"topSection"},_e={class:"lifes"},$e={class:"score sub-title"},ea={class:"gameSection"},aa={key:0},sa={key:1},la={key:2},ta={key:3},Aa={key:4},oa={expose:[],setup(s){let l=C();return n((()=>{l.params.fromEnter?(x.emit("request_game",{gameId:l.params.id}),x.emit("request_image",{gameId:l.params.id})):pa.push({name:"Enter",params:{id:l.params.id}})})),x.on("game_updated",(e=>{console.log(e),de.game=e,e.players.forEach((e=>{e.id==l.params.playerId&&(de.player=e)}))})),x.on("image_updated",(e=>{de.images=e})),x.on("timer_updated",(e=>{console.log(e),de.game.timeLeft=e})),(s,l)=>(e(),a("div",Pe,[d("div",ze,[d("div",_e,[(e(!0),a(m,null,c(+y(de).game.lifes,(s=>(e(),a("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAHxJREFUOI3FkzESgCAMBA9eQFr9/9OkhR/ERpQEAszojNvBkW1yODwwJE6du3l5xEcIIt1zXsp9LwSA6451vqUkct9MKomWR6JbAgBDgUUkeieo+V9grmlGWWNdlmVJ3ZGmbTOJKlgjGEr0sCXoSnrDI4GQWMMrMNpf+C0npQk0LXlRwwgAAAAASUVORK5CYII=",key:s,alt:s},null,8,["alt"])))),128))]),d("div",$e,"Score: "+u(y(de).game.score),1),d(Ze,{class:"timer"})]),d("div",ea,["DISPLAY"==y(de).game.state?(e(),a("div",aa,[d(Ue)])):w("",!0),"NONE"==y(de).game.state?(e(),a("div",sa,[d(Re)])):w("",!0),"COMPARE"==y(de).game.state?(e(),a("div",la,[d(Je)])):w("",!0),"DRAW"==y(de).game.state?(e(),a("div",ta,[d(De)])):w("",!0),"LOST"==y(de).game.state?(e(),a("div",Aa,[d(Me)])):w("",!0)])]))}};const na={class:"enter"},ra=d("div",{class:"sub-title"},"ENTER YOUR NAME:",-1),ia=d("div",{class:"spacer2"},null,-1),da={expose:[],setup(s){let l=C(),t=o(""),A=JSON.parse(localStorage.getItem("runningGames"));function n(e){"Enter"==e.key&&(console.log("test"),x.emit("player_join_game",{id:B.generate(),name:t.value,host:l.params.host||!1,gameId:l.params.id},(e=>{console.log(e),e.id&&(A.push({gameId:l.params.id,playerId:e.id}),localStorage.setItem("runningGames",JSON.stringify(A)),de.player=e,pa.push({name:"Game",params:{playerId:e.id,id:l.params.id,fromEnter:!0}}))})))}return A.forEach((e=>{e.gameId==l.params.id&&pa.push({name:"Game",params:{playerId:e.playerId,id:l.params.id,fromEnter:!0}})})),(s,l)=>(e(),a("div",na,[ra,ia,r(d("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>h(t)?t.value=e:t=e),onKeyup:n,placeholder:"NAME..."},null,544),[[v,y(t)]])]))}};const ma=g();t("data-v-f16ab778");const ca=I(" All public Games: ");A();const ua={expose:[],setup(s){let l=o([]);return n((()=>{x.emit("request_public_games",(e=>{console.log(e),l.value=e}))})),(s,t)=>(e(),a("div",null,[ca,(e(!0),a(m,null,c(y(l),(s=>(e(),a("div",{key:s[0]},[d(V,{onClick:e=>{return a=s[0],void pa.push({name:"Enter",params:{id:a}});var a}},{default:ma((()=>[I("/"+u(s[0]),1)])),_:2},1032,["onClick"])])))),128))]))},__scopeId:"data-v-f16ab778"},ga=[{path:"/",name:"Home",component:ie},{path:"/game/:id",name:"Game",component:oa},{path:"/enter/:id",name:"Enter",component:da},{path:"/search",name:"Search",component:ua}],pa=S({history:G(),routes:ga});U(M).use(pa).mount("#app");
