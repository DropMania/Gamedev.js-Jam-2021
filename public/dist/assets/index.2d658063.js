import{r as e,o as a,c as t,i as A,p as s,a as l,b as o,d as n,e as r,F as d,f as i,w as m,g,u as c,h as p,t as u,j as v,v as h,k as I,l as E,m as k,n as f,C as y,q as C,s as R,x as w}from"./vendor.c5346808.js";!function(e=".",a="__import__"){try{self[a]=new Function("u","return import(u)")}catch(t){const A=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[a]=e=>new Promise(((t,l)=>{const o=new URL(e,A);if(self[a].moduleMap[o])return t(self[a].moduleMap[o]);const n=new Blob([`import * as m from '${o}';`,`${a}.moduleMap['${o}']=m;`],{type:"text/javascript"}),r=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(n),onerror(){l(new Error(`Failed to import: ${e}`)),s(r)},onload(){t(self[a].moduleMap[o]),s(r)}});document.head.appendChild(r)})),self[a].moduleMap={}}}("/assets/");null==localStorage.getItem("runningGames")&&localStorage.setItem("runningGames","[]");let K=JSON.parse(localStorage.getItem("runningGames"));K.length>5&&(K.splice(0,K.length-5),localStorage.setItem("runningGames",JSON.stringify(K)));const G={};G.render=function(A,s,l,o,n,r){const d=e("router-view");return a(),t(d)};const U=A(location.href.startsWith("http://localhost:3000/")?"http://localhost:5000":void 0),B=["228, 166, 114","184, 111,  80","116,  63,  57","63,  40,  50","158,  40,  53","229,  59,  68","251, 146,  43","255, 231,  98","99, 198,  77","50, 115,  69","25,  61,  63","79, 103, 129","175, 191, 210","255, 255, 255","44, 232, 244","4, 132, 209"];const L={setup(){let e,a=B,t=o(null),A=!1,s=[0,0,0],l={};function r(e,a,t){let A=4*e+32*a*4;t[A]=s[0],t[A+1]=s[1],t[A+2]=s[2],t[A+3]=255}function d(e,a,t){let A=4*e+32*a*4;return`${t[A]},${t[A+1]},${t[A+2]},${t[A+3]}`}return n((()=>{e=t.value.getContext("2d"),l=e.getImageData(0,0,32,32);for(var a=0;a<l.data.length;a+=4)l.data[a]=0,l.data[a+1]=0,l.data[a+2]=0,l.data[a+3]=20;e.putImageData(l,0,0);let{x:s,y:o}=t.value.getBoundingClientRect();function n(a){if(A){r(Math.floor((a.x-s)/16),Math.floor((a.y-o)/16),l.data),e.putImageData(l,0,0)}}function i(a,t,A,s){d(a,t-1,s.data)==A&&(r(a,t-1,s.data),i(a,t-1,A,s)),d(a,t+1,s.data)==A&&(r(a,t+1,s.data),i(a,t+1,A,s)),d(a-1,t,s.data)==A&&(r(a-1,t,s.data),i(a-1,t,A,s)),d(a+1,t,s.data)==A&&(r(a+1,t,s.data),i(a+1,t,A,s)),r(a,t,s.data),e.putImageData(s,0,0)}t.value.addEventListener("mousedown",(e=>{e.ctrlKey?function(e){let a=Math.floor((e.x-s)/16),t=Math.floor((e.y-o)/16),A=d(a,t,l.data);i(a,t,A,l)}(e):(A=!0,n(e))})),t.value.addEventListener("mouseup",(e=>{A=!1})),t.value.addEventListener("mouseleave",(e=>{A=!1})),t.value.addEventListener("mousemove",n)})),{cnvs:t,getBase64:()=>t.value.toDataURL(),setColor:e=>s=e.split(","),undo:()=>{},colors:a}}},S=m();s("data-v-088762ce");const M={class:"frame"},O={class:"cnvs"},Q={id:"game",width:"32",height:"32",ref:"cnvs"},X={class:"colors"};l();const F=S(((e,A,s,l,o,n)=>(a(),t("div",M,[r("div",O,[r("canvas",Q,null,512),r("div",X,[(a(!0),t(d,null,i(l.colors,(e=>(a(),t("div",{class:"color",key:e,onClick:a=>l.setColor(e),style:{backgroundColor:`rgb(${e})`}},null,12,["onClick"])))),128))])])]))));L.render=F,L.__scopeId="data-v-088762ce";s("data-v-11df4493");const W={class:"Home"},b=r("div",{class:"big-title"},"MirrorMates",-1),x=r("div",{class:"sub-title"},"ARE YOU TRUE MATES?",-1),H=r("div",{class:"spacer6"},null,-1),Y=r("img",{src:"data:image/gif;base64,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"},null,-1),J=r("div",{class:"spacer6"},null,-1),q=r("div",{class:"footer"},[r("a",{href:"https://github.com/DropMania/Gamedev.js-Jam-2021",target:"_blank"},"Â© DropMania")],-1);l();const D={expose:[],setup:e=>(e,A)=>(a(),t("div",W,[b,x,H,Y,r("button",{onClick:A[1]||(A[1]=e=>{U.emit("createGame",{maxPlayers:2},(e=>{ye.push({name:"Enter",params:{host:!0,id:e.gameId}})}))})},"Create Game"),J,q])),__scopeId:"data-v-11df4493"};var j=g({game:{players:[],maxPlayers:0,minPlayers:0,started:!1,state:"NONE",timeLeft:0,currentWord:"",lifes:3,currentCompare:""},images:[],player:{id:"",name:"",host:!1,sort:0}});const N={class:"config"},T={class:"config-item"},V=k(" Time: "),Z={expose:[],setup(e){const A=c(),s=o("");let l=location.href;const n=[["Long",60],["Normal",30],["Short",20],["Super quick",10]];function m(e){U.emit("set_config",A.params.id,{defaultTime:e.target.value,timeLeft:e.target.value})}return(e,o)=>(a(),t("div",N,[r("div",T,[V,p(j).player.host?(a(),t("select",{key:0,onInput:m},[(a(),t(d,null,i(n,(e=>r("option",{key:e[0],selected:p(j).game.defaultTime==e[1],value:e[1]},u(e[0]),9,["selected","value"]))),64))],32)):(a(),t(d,{key:1},i(n,(e=>r("span",{key:e[0]},u(p(j).game.defaultTime==e[1]?e[0]:""),1))),64))]),v(r("textarea",{ref:s,"onUpdate:modelValue":o[1]||(o[1]=e=>I(l)?l.value=e:l=e),class:"copytext"}," ",512),[[h,p(l)]]),p(j).game.started?E("",!0):(a(),t("button",{key:0,onClick:o[2]||(o[2]=e=>(s.value.focus(),s.value.select(),s.value.setSelectionRange(0,99999),document.execCommand("copy"),void s.value.blur())),class:"config-item"}," Copy link! ")),p(j).player.host&&!p(j).game.started?(a(),t("button",{key:1,disabled:p(j).game.players.length<p(j).game.minPlayers,onClick:o[3]||(o[3]=e=>{U.emit("start_game",A.params.id)}),class:"config-item",title:p(j).game.players.length<p(j).game.minPlayers?"you need at least 2 players":""}," Start! ",8,["disabled","title"])):E("",!0)]))}};const P=k(" The Word you need to draw is:"),z=r("br",null,null,-1),_={class:"big-title"},$=r("div",{class:"spacer6"},null,-1),ee={expose:[],setup:e=>(e,A)=>(a(),t("div",null,[P,z,r("div",_,u(p(j).game.currentWord),1),$]))};const ae={class:"med-title"},te=r("div",{class:"spacer1"},null,-1),Ae={expose:[],setup(e){let A=c(),s=o(null);return f((()=>j.game.state),((e,a)=>{"DRAW"==a&&"COMPARE"==e&&s.value&&(console.log("donedrawing"),U.emit("done_drawing",{gameId:A.params.id,playerId:j.player.id,image:s.value.getBase64()}))})),(e,A)=>(a(),t("div",null,[r("div",ae,u(p(j).game.currentWord),1),r(L,{ref:s},null,512),te]))}};const se={expose:[],setup:e=>(e,A)=>(a(),t("div",null,u(p(j).game.currentCompare),1))};const le={class:"timer"},oe=r("div",null,[r("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAKCAYAAABCHPt+AAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV8/pEUqgs0g4pChOlkQFXGUKhbBQmkrtOpgcukXNDEkKS6OgmvBwY/FqoOLs64OroIg+AHi5uak6CIl/i8ptIjx4Lgf7+497t4B/maNqWZwHFA1y8gkE2K+sCKGXhFEFAIGEJaYqaeyCzl4jq97+Ph6F+dZ3uf+HH1K0WSATySeZbphEa8TT29aOud9YoFVJIX4nHjMoAsSP3JddvmNc9lhP88UjFxmjlggFstdLHcxqxgq8RRxTFE1yvfnXVY4b3FWa3XWvid/YaSoLWe5TnMYSSwihTREyKijihosxGnVSDGRof2Eh3/I8afJJZOrCkaOeWxAheT4wf/gd7dmaXLCTYokgJ4X2/4YAUK7QKth29/Htt06AQLPwJXW8W80gZlP0hsdLXYE9G8DF9cdTd4DLneAwSddMiRHCtD0l0rA+xl9UwGI3gK9q25v7X2cPgA56mrpBjg4BEbLlL3m8e5wd2//nmn39wM5bnKQdlMRJgAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+UEExUFJojmbgMAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAASUlEQVRIx+3XIQ4AIAwEwR7///MhG4LC0BO7gqA7CaGqzkWTqcCIyvfFBua3wjlz9wFGAop5rsJsFjPIChBA6OnLRbMGAiVrMdw3VRvvG3tPawAAAABJRU5ErkJggg=="})],-1),ne=r("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAKCAYAAABCHPt+AAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV8/pEUqgs0g4pChOlkQFXGUKhbBQmkrtOpgcukXNDEkKS6OgmvBwY/FqoOLs64OroIg+AHi5uak6CIl/i8ptIjx4Lgf7+497t4B/maNqWZwHFA1y8gkE2K+sCKGXhFEFAIGEJaYqaeyCzl4jq97+Ph6F+dZ3uf+HH1K0WSATySeZbphEa8TT29aOud9YoFVJIX4nHjMoAsSP3JddvmNc9lhP88UjFxmjlggFstdLHcxqxgq8RRxTFE1yvfnXVY4b3FWa3XWvid/YaSoLWe5TnMYSSwihTREyKijihosxGnVSDGRof2Eh3/I8afJJZOrCkaOeWxAheT4wf/gd7dmaXLCTYokgJ4X2/4YAUK7QKth29/Htt06AQLPwJXW8W80gZlP0hsdLXYE9G8DF9cdTd4DLneAwSddMiRHCtD0l0rA+xl9UwGI3gK9q25v7X2cPgA56mrpBjg4BEbLlL3m8e5wd2//nmn39wM5bnKQdlMRJgAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+UEExUEK+9MI/8AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAACw0lEQVRIx+1X23EcMQwDtG7ILiDjPhI3l8ykDrsBpyHPIh+k+JDk7+TDN3O7eyuRokAQ1BH5Eb4+//LDuADQj8dXEAQFuwMY/jzi3RyHjzPmUsCI53IXMICwHWQbHwLI4rf4jPU93nHXueZnzLWLjyHa12MfIK6bIO1u74lrvgdxKd8NWRzz+dLovmRrX/7b1hrlt9mk34zp8rjTt63/oAEAHAD0/fEVgPDz/VsWi5SPIABBWxEx5nCWWFzYpsCT0uvRDKXdK3WiT7cnLTKylLe4RGn00eKTRCxMd2h+lOPzHZWbLFIipv8uMDaRCYj54xYRHm5LnK9raRGFX+/PeHl628FjeaO+SZQUaVrMixSLam6ZM8E2hQ4wmZvt95JCoRi7zYxAJTbqAI8AlkRpcoYQMx5N6nmGBUJi7ldl97QqQi57EH4FQVRj9JUI4eO6Me60GBOpl6e3BZOZMx3aiwJ3bk2IbRaxz+GESTputs7WprAK+4lkq1ztgUk1RcxCk5KtagpuLjSZXFdwdAKXXj1JGgUJWTKm8C1PFHAPLQnhCrexhOvGVqjU1emkZmsuU14ma9Xkpm6mSUTd5Jp8stls0spe9Sk5lRR1AMUX3XLqsnzLjLFKqK4cDIBYoZJX4aLCpUKElZ+ZVS7MXoNWEISLL7ocrmytDLd+UcDcS673ExZ9dnmCFBsM2A/SsTqjsles9Xs8cjYQ1LSgFudsGM2bqhVbj94TslCcDlZiy21GApxpD+ZKDpIOxbOUuXYifG7Fgzo4FyMQ7b3IDwDnykmmRyPvrRNVDJZTQXapqShrb5+yyky+WAnbHQ8A/P3n2fUsda6ToYAdJw7mnhrBmF8xQKynsXhWUamD/hbSl5OJQ8Z+cldp8AuRcdRdVtJbMNJKWEWf2XKgEiCz11SNpVQAYtXBIPDEgPs58uuP4f/wx/AvFvyWFpDcLGsAAAAASUVORK5CYII="},null,-1),re={style:{"margin-top":"7px"}},de={expose:[],setup:e=>(e,A)=>(a(),t("div",le,[r("div",null,[oe,r("div",{style:{width:p(j).game.timeLeft/p(j).game.defaultTime*100+"%",overflow:"hidden"}},[ne],4),r("div",re,u(p(j).game.timeLeft)+"s",1)])]))};const ie={class:"game"},me={class:"topSection"},ge={class:"lifes"},ce={key:0},pe={key:1},ue={key:2},ve={key:3},he={expose:[],setup(e){let A=c();return n((()=>{A.params.fromEnter?(U.emit("request_game",{gameId:A.params.id}),U.emit("request_image",{gameId:A.params.id})):ye.push({name:"Enter",params:{id:A.params.id}})})),U.on("game_updated",(e=>{console.log(e),j.game=e,e.players.forEach((e=>{e.id==A.params.playerId&&(j.player=e)}))})),U.on("image_updated",(e=>{j.images=e})),U.on("timer_updated",(e=>{console.log(e),j.game.timeLeft=e})),(e,A)=>(a(),t("div",ie,[r("div",me,[r("div",ge,[(a(!0),t(d,null,i(p(j).game.lifes,(e=>(a(),t("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAHxJREFUOI3FkzESgCAMBA9eQFr9/9OkhR/ERpQEAszojNvBkW1yODwwJE6du3l5xEcIIt1zXsp9LwSA6451vqUkct9MKomWR6JbAgBDgUUkeieo+V9grmlGWWNdlmVJ3ZGmbTOJKlgjGEr0sCXoSnrDI4GQWMMrMNpf+C0npQk0LXlRwwgAAAAASUVORK5CYII=",key:e})))),128))]),r(de,{class:"timer"})]),(a(),t(d,null,i(1,(e=>r("div",{class:"gameSection",key:e},["NONE"==p(j).game.state?(a(),t("div",ce,[r(Z)])):E("",!0),"DISPLAY"==p(j).game.state?(a(),t("div",pe,[r(ee)])):E("",!0),"DRAW"==p(j).game.state?(a(),t("div",ue,[r(Ae)])):E("",!0),"COMPARE"==p(j).game.state?(a(),t("div",ve,[r(se)])):E("",!0)]))),64))]))}};const Ie={class:"enter"},Ee=r("div",{class:"sub-title"},"ENTER YOUR NAME:",-1),ke=r("div",{class:"spacer2"},null,-1),fe=[{path:"/",name:"Home",component:D},{path:"/game/:id",name:"Game",component:he},{path:"/enter/:id",name:"Enter",component:{expose:[],setup(e){let A=c(),s=o(""),l=JSON.parse(localStorage.getItem("runningGames"));function n(e){"Enter"==e.key&&(console.log("test"),U.emit("player_join_game",{id:y.generate(),name:s.value,host:A.params.host||!1,gameId:A.params.id},(e=>{console.log(e),e.id&&(l.push({gameId:A.params.id,playerId:e.id}),localStorage.setItem("runningGames",JSON.stringify(l)),j.player=e,ye.push({name:"Game",params:{playerId:e.id,id:A.params.id,fromEnter:!0}}))})))}return l.forEach((e=>{e.gameId==A.params.id&&ye.push({name:"Game",params:{playerId:e.playerId,id:A.params.id,fromEnter:!0}})})),(e,A)=>(a(),t("div",Ie,[Ee,ke,v(r("input",{type:"text","onUpdate:modelValue":A[1]||(A[1]=e=>I(s)?s.value=e:s=e),onKeyup:n,placeholder:"NAME..."},null,544),[[h,p(s)]])]))}}}],ye=C({history:R(),routes:fe});w(G).use(ye).mount("#app");
